# Production Environment Configuration
# Copy this file to .env and update with your production values

# CRITICAL: Set strong, random secrets for production
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE_ME_TO_STRONG_RANDOM_VALUE
JWT_SECRET_KEY=CHANGE_ME_TO_STRONG_RANDOM_VALUE

# Environment
ENVIRONMENT=production

# API Keys - REQUIRED
OPENAI_API_KEY=your_production_openai_key
GITHUB_TOKEN=your_production_github_token

# OR use Gemini instead
# GEMINI_API_KEY=your_production_gemini_key
# LLM_PROVIDER=gemini

# GitHub Webhook - REQUIRED for webhook functionality
GITHUB_WEBHOOK_SECRET=your_strong_webhook_secret

# Database
CHROMA_PERSIST_DIRECTORY=./data/vector_db
CHROMA_COLLECTION_NAME=code_reviews

# Model Settings
EMBEDDING_MODEL=text-embedding-3-small
LLM_MODEL=gpt-4-turbo-preview
TEMPERATURE=0.3
MAX_TOKENS=1000

# Retrieval Settings
TOP_K_RESULTS=5
SIMILARITY_THRESHOLD=0.7

# Server
API_HOST=0.0.0.0
API_PORT=8000

# Security Settings - REQUIRED
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# CORS - Update with your production domains
CORS_ORIGINS=["https://your-production-domain.com","https://api.your-domain.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# Redis (optional, for caching and distributed rate limiting)
# REDIS_URL=redis://your-redis-server:6379

# Database (for user management and feedback)
DATABASE_URL=postgresql://user:password@localhost/code_review_db

# Feature Flags
ENABLE_AUTHENTICATION=true
ENABLE_RATE_LIMITING=true
ENABLE_CACHING=true
ENABLE_MONITORING=true

# Admin Settings - IMPORTANT: Set admin password hash
ADMIN_USERNAME=admin
# Generate with: python scripts/setup_admin.py
ADMIN_PASSWORD_HASH=your_bcrypt_password_hash_here

# Monitoring
ENABLE_PROMETHEUS=true
LOG_LEVEL=INFO

# Production Notes:
# 1. Never commit this file to version control
# 2. Use a secrets manager (AWS Secrets Manager, Azure Key Vault, etc.)
# 3. Rotate API keys and secrets regularly
# 4. Monitor API usage for anomalies
# 5. Enable all security features in production
